---
applications:
  - name: mcp-registry
    memory: 512M
    disk_quota: 1G
    buildpacks:
      - docker
    docker:
      image: modelcontextprotocol/registry:dev
    command: make dev-compose
    env:
      MCP_REGISTRY_DATABASE_URL: ${MCP_REGISTRY_DATABASE_URL:-postgres://mcpregistry:mcpregistry@postgres:5432/mcp-registry}
      MCP_REGISTRY_ENVIRONMENT: ${MCP_REGISTRY_ENVIRONMENT:-test}
      MCP_REGISTRY_GITHUB_CLIENT_ID: ${MCP_REGISTRY_GITHUB_CLIENT_ID:-Iv23licy3GSiM9Km5jtd}
      MCP_REGISTRY_GITHUB_CLIENT_SECRET: ${MCP_REGISTRY_GITHUB_CLIENT_SECRET:-0e8db54879b02c29adef51795586f3c510a9341d}
      MCP_REGISTRY_JWT_PRIVATE_KEY: ${MCP_REGISTRY_JWT_PRIVATE_KEY:-8103179d8ef955f6d3de6d6217224a909ec4060529dfeb1d4ca5a994537658cd}
      MCP_REGISTRY_ENABLE_ANONYMOUS_AUTH: ${MCP_REGISTRY_ENABLE_ANONYMOUS_AUTH:-true}
      MCP_REGISTRY_SEED_FROM: ${MCP_REGISTRY_SEED_FROM:-data/seed.json}
      MCP_REGISTRY_OIDC_ENABLED: ${MCP_REGISTRY_OIDC_ENABLED:-true}
      MCP_REGISTRY_OIDC_ISSUER: ${MCP_REGISTRY_OIDC_ISSUER:-https://accounts.google.com}
      MCP_REGISTRY_OIDC_CLIENT_ID: ${MCP_REGISTRY_OIDC_CLIENT_ID:-32555940559.apps.googleusercontent.com}
      MCP_REGISTRY_OIDC_EXTRA_CLAIMS: ${MCP_REGISTRY_OIDC_EXTRA_CLAIMS:-[{"hd":"modelcontextprotocol.io"}]}
      MCP_REGISTRY_OIDC_EDIT_PERMISSIONS: ${MCP_REGISTRY_OIDC_EDIT_PERMISSIONS:-*}
      MCP_REGISTRY_OIDC_PUBLISH_PERMISSIONS: ${MCP_REGISTRY_OIDC_PUBLISH_PERMISSIONS:-*}
      MCP_REGISTRY_ENABLE_REGISTRY_VALIDATION: ${MCP_REGISTRY_ENABLE_REGISTRY_VALIDATION:-true}
      MCP_REGISTRY_SKIP_NAMESPACE_CHECK: ${MCP_REGISTRY_SKIP_NAMESPACE_CHECK:-true}
